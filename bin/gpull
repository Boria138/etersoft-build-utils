#!/bin/sh

# load common functions, compatible with local and installed script
. `dirname $0`/../share/eterbuild/functions/common
load_mod git

if [ "$1" = "-h" ] ; then
	echo "gpull - do git pull --rebase"
	echo "Use: gpull [GEAR] [branch]"
	echo "     gpull without parameters or with branch name"
	echo "     gpull git.eter - for pull from git.eter gear repo"
	exit 1
fi

if is_girar_name $1 ; then
	GIRARHOST=$1
	shift
fi

echo "Pull repo from $GIRARHOST"
git pull --rebase $GIRARHOST $@
